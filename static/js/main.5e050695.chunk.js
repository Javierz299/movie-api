(this["webpackJsonpmovie-api"]=this["webpackJsonpmovie-api"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),i=c.n(n),s=c(17),r=c.n(s),o=(c(42),c(3)),l=c(5),j=Object(l.a)(),d=c(10),b=(c(43),function(){return Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"header-container",children:[Object(a.jsx)("h2",{className:"logo",children:Object(a.jsx)(d.b,{to:"/movie-api",children:"WatchList"})}),Object(a.jsxs)("nav",{className:"nav-container",children:[Object(a.jsx)("span",{children:Object(a.jsx)(d.b,{to:"/",children:"Movie List"})}),Object(a.jsx)("span",{children:Object(a.jsx)(d.b,{to:"/watched",children:"Watched"})}),Object(a.jsx)("span",{children:Object(a.jsx)(d.b,{to:"/add",children:"+ Add"})})]})]})})}),h=c(9),u=(c(48),"https://api.themoviedb.org"),O="https://image.tmdb.org/t/p/w200",v=function(e){var t=e.movie,c=Object(n.useState)(!1),i=Object(h.a)(c,2),s=i[0],r=i[1];return Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)("h2",{className:"movie-list-title",children:t.title}),s?Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:s?"overview-transition watched-list-overview":"overview",onClick:function(){return r(!s)},children:t.overview})}):Object(a.jsx)("img",{className:s?"overview-transition":"overview watched-list-img",onClick:function(){return r(!s)},src:"".concat(O,"/").concat(t.img),alt:"".concat(t.title," Poster")})]})},m=function(){var e=localStorage.getItem("watched"),t=JSON.parse(e);return console.log("local watch",t),Object(a.jsxs)("div",{children:[!t&&Object(a.jsx)("h2",{className:"no-movies-yet",children:"Start adding to your list!"}),t&&t.map((function(e){return null===e?null:Object(a.jsx)("div",{className:"watched-movies-container",children:Object(a.jsx)("div",{className:"watched-list-box",children:Object(a.jsx)(v,{movie:e})})},e.id)}))]})},x=(c(49),function(e){var t=e.movie,c=Object(n.useState)(!1),i=Object(h.a)(c,2),s=i[0],r=i[1];return Object(a.jsx)(n.Fragment,{children:s?Object(a.jsxs)("div",{className:"movie-list-overview",onMouseLeave:function(){return r(!1)},children:[Object(a.jsx)("span",{className:"movie-list-title",children:t.title}),Object(a.jsx)("p",{className:"movie-list-details",children:t.overview})]}):Object(a.jsx)("img",{className:"movie-list-img",onMouseEnter:function(){return r(!0)},src:"".concat(O,"/").concat(t.poster_path),alt:"".concat(t.title," Poster")})})}),p=(c(50),function(e){var t=e.page,c=e.setPage,n=e.totalPages,i=function(e){c((function(t){return t+e}))};return console.log("totalpages",n),Object(a.jsxs)("div",{className:"pagnation-container",children:[1!==t&&Object(a.jsx)("span",{onClick:function(){return i(-1)},children:"Prev"}),1!==t&&Object(a.jsx)("span",{onClick:function(){return c(1)},children:"1"}),t>2&&Object(a.jsx)("span",{children:"..."}),t>2&&Object(a.jsx)("span",{onClick:function(){return i(-1)},children:t-1}),Object(a.jsx)("span",{children:t}),n&&Object(a.jsx)("span",{onClick:function(){return i(1)},children:t+1}),n&&Object(a.jsx)("span",{onClick:function(){return i(1)},children:"Next"})]})}),g=c(20),f=c.n(g),w=function(){var e=Object(n.useState)(null),t=Object(h.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(1),r=Object(h.a)(s,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){f.a.get("".concat(u,"/3/movie/popular?api_key=").concat("a8af73cda7e25b98209f7e5d32ad0261","&language=en-US&page=").concat(o,"&include_adult=false")).then((function(e){return i(e.data)}))}),[o]),console.log("movies",c),console.log("page",o),Object(a.jsxs)("div",{className:"movie-list-container",children:[Object(a.jsx)("h2",{children:"Popular movies"}),c&&Object(a.jsx)(p,{page:o,setPage:l,totalPages:c.total_pages}),c&&c.results.map((function(e){return Object(a.jsx)("div",{className:"movie-list-box",children:Object(a.jsx)(x,{movie:e})},e.id)})),c&&Object(a.jsx)(p,{page:o,setPage:l,totalPages:c.total_pages})]})},N="SEARCH_MOVIE",S="WATCHED_MOVIE",_=c(13),y=c(21),k=(c(69),function(e){var t=e.movie,c=Object(n.useState)(null),i=Object(h.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(!1),l=Object(h.a)(o,2),j=l[0],d=l[1],b=s?s.find((function(e){return e.id===t.id})):null;Object(n.useEffect)((function(){r(JSON.parse(localStorage.getItem("watched")))}),[j]);return console.log("filtered",s,j),Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)("h3",{children:t.title}),Object(a.jsx)("h4",{children:t.release_date?t.release_date.substring(0,4):"N/A"}),Object(a.jsx)("img",{src:"".concat(O,"/").concat(t.poster_path),alt:"".concat(t.title," Poster")}),b?Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"WATCHED"})}):Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return function(e){var t=localStorage.getItem("watched"),c=JSON.parse(t);if(null===t)return r(localStorage.setItem("watched",JSON.stringify([e]))),void d(!0);localStorage.setItem("watched",JSON.stringify([e].concat(Object(y.a)(c)))),r(JSON.parse(localStorage.getItem("watched"))),d(!0)}({id:t.id,title:t.title,release:t.release_date.substring(0,4),img:t.poster_path,overview:t.overview,rating:t.vote_average,watched:!0})},children:"ADD TO WATCHLIST"})})]})}),C=function(){var e=Object(_.c)((function(e){return e.movie_reducer.search_movie}));return Object(a.jsx)("section",{children:null!==e&&e.map((function(e){return Object(a.jsx)("div",{className:"search-list-card",children:Object(a.jsx)(k,{movie:e})},e.id)}))})},P=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],i=t[1],s=Object(_.b)();return Object(a.jsx)("div",{className:"search-container",children:Object(a.jsxs)("div",{className:"search-bar-wrapper",children:[Object(a.jsx)("input",{type:"text",placeholder:"search for movies",value:c,onChange:function(e){e.preventDefault(),i(e.target.value),console.log("targer",e.target.value),f.a.get("".concat(u,"/3/search/movie?api_key=").concat("a8af73cda7e25b98209f7e5d32ad0261","&query=").concat(c)).then((function(e){return s((t=e.data.results,{type:N,payload:t}));var t}))}}),Object(a.jsx)(C,{})]})})},I=(c(70),c.p+"static/media/movieDetails.8b04f4fb.png"),E=c.p+"static/media/Search.e28bfec0.png",A=function(){return Object(a.jsxs)("div",{className:"testing-container",children:[Object(a.jsx)("h2",{children:"Welcome"}),Object(a.jsx)("p",{children:"To get started click on the add button. There, you will have access to search through The Movie Database. Movies Watched will be saved to your local storage."}),Object(a.jsx)("img",{src:E,alt:"search movies"}),Object(a.jsx)("p",{children:"Click on the movie posters in your watched list for movie details."}),Object(a.jsx)("img",{src:I,alt:"watched list"})]})},J=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(o.b,{history:j,children:[Object(a.jsx)(b,{}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{exact:!0,path:"/",children:Object(a.jsx)(w,{})}),Object(a.jsx)(o.a,{path:"/movie-api",children:Object(a.jsx)(A,{})}),Object(a.jsx)(o.a,{path:"/watched",children:Object(a.jsx)(m,{})}),Object(a.jsx)(o.a,{path:"/add",children:Object(a.jsx)(P,{})})]})]})})},M=c(12),T=c(16),D={search_movie:null,watched_list:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(T.a)(Object(T.a)({},e),{},{search_movie:t.payload});case S:return console.log("reducer",t),Object(T.a)(Object(T.a)({},e),{},{watched_list:[t.payload].concat(Object(y.a)(e.watched_list))});default:return e}},H=Object(M.b)({movie_reducer:W}),L=Object(M.c)(H);r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(d.a,{children:Object(a.jsx)(_.a,{store:L,children:Object(a.jsx)(J,{})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.5e050695.chunk.js.map
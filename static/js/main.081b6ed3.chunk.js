(this["webpackJsonpmovie-api"]=this["webpackJsonpmovie-api"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),i=c.n(a),s=c(17),r=c.n(s),o=(c(42),c(3)),l=c(5),j=Object(l.a)(),d=c(10),u=(c(43),function(){return Object(n.jsx)("header",{children:Object(n.jsxs)("div",{className:"header-container",children:[Object(n.jsx)("h2",{className:"logo",children:Object(n.jsx)(d.b,{to:"/movie-api",children:"WatchList"})}),Object(n.jsxs)("nav",{className:"nav-container",children:[Object(n.jsx)("span",{children:Object(n.jsx)(d.b,{to:"/",children:"Movie List"})}),Object(n.jsx)("span",{children:Object(n.jsx)(d.b,{to:"/watched",children:"Watched"})}),Object(n.jsx)("span",{children:Object(n.jsx)(d.b,{to:"/add",children:"+ Add"})})]})]})})}),b=c(9),h=(c(48),"https://api.themoviedb.org"),O="https://image.tmdb.org/t/p/w200",v=function(e){var t=e.movie,c=Object(a.useState)(!1),i=Object(b.a)(c,2),s=i[0],r=i[1];return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("h2",{className:"movie-list-title",children:t.title}),s?Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:s?"overview-transition watched-list-overview":"overview",onClick:function(){return r(!s)},children:t.overview})}):Object(n.jsx)("img",{className:s?"overview-transition":"overview watched-list-img",onClick:function(){return r(!s)},src:"".concat(O,"/").concat(t.img),alt:"".concat(t.title," Poster")})]})},x=function(){var e=localStorage.getItem("watched"),t=JSON.parse(e);return console.log("local watch",t),Object(n.jsxs)("div",{children:[!t&&Object(n.jsx)("h2",{className:"no-movies-yet",children:"Start adding to your list!"}),t&&t.map((function(e){return null===e?null:Object(n.jsx)("div",{className:"watched-movies-container",children:Object(n.jsx)("div",{className:"watched-list-box",children:Object(n.jsx)(v,{movie:e})})},e.id)}))]})},m=(c(49),function(e){var t=e.movie,c=Object(a.useState)(!1),i=Object(b.a)(c,2),s=i[0],r=i[1];return Object(n.jsx)(a.Fragment,{children:s?Object(n.jsxs)("div",{className:"movie-list-overview",onMouseLeave:function(){return r(!1)},children:[Object(n.jsx)("span",{className:"movie-list-title",children:t.title}),Object(n.jsx)("p",{className:"movie-list-details",children:t.overview})]}):Object(n.jsx)("img",{className:"movie-list-img",onMouseEnter:function(){return r(!0)},src:"".concat(O,"/").concat(t.poster_path),alt:"".concat(t.title," Poster")})})}),p=(c(50),function(e){var t=e.page,c=e.setPage,a=e.totalPages,i=function(e){c((function(t){return t+e}))};return console.log("totalpages",a),Object(n.jsxs)("div",{className:"pagnation-container",children:[1!==t&&Object(n.jsx)("span",{onClick:function(){return i(-1)},children:"Prev"}),1!==t&&Object(n.jsx)("span",{onClick:function(){return c(1)},children:"1"}),t>2&&Object(n.jsx)("span",{children:"..."}),t>2&&Object(n.jsx)("span",{onClick:function(){return i(-1)},children:t-1}),Object(n.jsx)("span",{children:t}),a&&Object(n.jsx)("span",{onClick:function(){return i(1)},children:t+1}),a&&Object(n.jsx)("span",{onClick:function(){return i(1)},children:"Next"})]})}),g=c(20),f=c.n(g),w=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)(1),r=Object(b.a)(s,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){f.a.get("".concat(h,"/3/movie/popular?api_key=").concat("a8af73cda7e25b98209f7e5d32ad0261","&language=en-US&page=").concat(o,"&include_adult=false")).then((function(e){return i(e.data)}))}),[o]),console.log("movies",c),console.log("page",o),Object(n.jsxs)("div",{className:"movie-list-container",children:[Object(n.jsx)("h2",{children:"Popular movies"}),c&&Object(n.jsx)(p,{page:o,setPage:l,totalPages:c.total_pages}),c&&c.results.map((function(e){return Object(n.jsx)("div",{className:"movie-list-box",children:Object(n.jsx)(m,{movie:e})},e.id)})),c&&Object(n.jsx)(p,{page:o,setPage:l,totalPages:c.total_pages})]})},N="SEARCH_MOVIE",S="WATCHED_MOVIE",_=c(13),y=c(21),C=(c(69),function(e){var t=e.movie,c=Object(a.useState)(null),i=Object(b.a)(c,2),s=i[0],r=i[1],o=Object(a.useState)(!1),l=Object(b.a)(o,2),j=l[0],d=l[1],u=s?s.find((function(e){return e.id===t.id})):null;Object(a.useEffect)((function(){r(JSON.parse(localStorage.getItem("watched")))}),[j]);return console.log("filtered",s,j),Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)("h4",{children:t.release_date?t.release_date.substring(0,4):"N/A"}),Object(n.jsx)("img",{src:"".concat(O,"/").concat(t.poster_path),alt:"".concat(t.title," Poster")}),u?Object(n.jsx)("div",{children:Object(n.jsx)("button",{children:"WATCHED"})}):Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){return function(e){var t=localStorage.getItem("watched"),c=JSON.parse(t);if(null===t)return r(localStorage.setItem("watched",JSON.stringify([e]))),void d(!0);localStorage.setItem("watched",JSON.stringify([e].concat(Object(y.a)(c)))),r(JSON.parse(localStorage.getItem("watched"))),d(!0)}({id:t.id,title:t.title,release:t.release_date.substring(0,4),img:t.poster_path,overview:t.overview,rating:t.vote_average,watched:!0})},children:"ADD TO WATCHLIST"})})]})}),k=function(){var e=Object(_.c)((function(e){return e.movie_reducer.search_movie}));return Object(n.jsx)("section",{children:null!==e&&e.map((function(e){return Object(n.jsx)("div",{className:"search-list-card",children:Object(n.jsx)(C,{movie:e})},e.id)}))})},P=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],i=t[1],s=Object(_.b)();return Object(n.jsx)("div",{className:"search-container",children:Object(n.jsxs)("div",{className:"search-bar-wrapper",children:[Object(n.jsx)("input",{type:"text",placeholder:"search for movies",value:c,onChange:function(e){e.preventDefault(),i(e.target.value),console.log("targer",e.target.value),f.a.get("".concat(h,"/3/search/movie?api_key=").concat("a8af73cda7e25b98209f7e5d32ad0261","&query=").concat(c)).then((function(e){return s((t=e.data.results,{type:N,payload:t}));var t}))}}),Object(n.jsx)(k,{})]})})},I=(c(70),function(){return Object(n.jsx)("div",{className:"testing-container",children:"Landing Page"})}),E=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.b,{history:j,children:[Object(n.jsx)(u,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",children:Object(n.jsx)(w,{})}),Object(n.jsx)(o.a,{path:"/movie-api",children:Object(n.jsx)(I,{})}),Object(n.jsx)(o.a,{path:"/watched",children:Object(n.jsx)(x,{})}),Object(n.jsx)(o.a,{path:"/add",children:Object(n.jsx)(P,{})})]})]})})},A=c(12),J=c(16),M={search_movie:null,watched_list:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(J.a)(Object(J.a)({},e),{},{search_movie:t.payload});case S:return console.log("reducer",t),Object(J.a)(Object(J.a)({},e),{},{watched_list:[t.payload].concat(Object(y.a)(e.watched_list))});default:return e}},L=Object(A.b)({movie_reducer:D}),T=Object(A.c)(L);r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(_.a,{store:T,children:Object(n.jsx)(E,{})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.081b6ed3.chunk.js.map